# -*- coding: utf-8 -*-

import LINETCR
from LINETCR.lib.curve.ttypes import *
from datetime import datetime
import time,random,sys,json,codecs,threading,glob,re,datetime,subprocess,urllib3,os,requests,urllib
from threading import Thread

cl = LINETCR.LINE()
cl.login(token="EmLXl2qfMBtttFcmvpua.apGNZMzba418M2CeQxD9/G.MxgDoVhW2Za7RZ8k0vOzBrIqrTgmBEIK8fpypHVDj4k=")
cl.loginResult()

kk = LINETCR.LINE()
kk.login(token="Ems2OiigtKkV98SL6MXe.NxOm/S29HsqznYOQ+r2QRG.7k3oEYx8erznHrcIzq1YwJtz6okqyRGDoAmtISxRkHQ=")
kk.loginResult()

ki = LINETCR.LINE()
ki.login(token="EmrC9zAq6B7ZRg2uZcK0.GTNGDYuME/ZSRopxKL7Jqa.c+C0zMu/R/5LF89ilenGz9EyQgbKKxWV3dk5UpKaTpQ=")
ki.loginResult()

kc = LINETCR.LINE()
kc.login(token="EmpJOqJoSId1NVoBe0z8.zWe56MEbMgji3DTSm33OYa.4qBKCyshb2TMc/lK7HGMw9bZzxUZIryQWZNVB3FcwGM=")
kc.loginResult()

print "Login success"
reload(sys)
sys.setdefaultencoding('utf-8')

helpMessage ="""â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ã€˜á¢áŒá´áá†áŸ áŸá¾á·á·áªNá ã€™
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                ã€˜á†á ã€™
â•‘              ã€˜á·á†á ã€™  
â•‘             ã€˜áªáá á·á†á ã€™
â•‘                ã€˜á·á¬ã€™
â•‘             ã€˜á´Šá¾á†N áªááã€™
â•‘           ã€˜áŒášá†á¡ 1/2/3/4ã€™
â•‘             ã€˜á©á¡á¾áŒá¢ á†á ã€™
â•‘              ã€˜á¢á : "+"ã€™
â•‘              ã€˜áŸáá¾áŸK :ã€™
â•‘             ã€˜áŒá¢ áŸáá¾áŸKã€™
â•‘             ã€˜Náªá·á¬ : + ã€™
â•‘             ã€˜á·á†áŸã€™"á·á†á " ã€™
â•‘  ã€˜á¡á¬á“á¬áŸá¢ã€™"á†Ná™á†á¢á¬" ã€™
â•‘[Massage add: "text"]:
â•‘[Add confirmasi]:
â•‘[Comment set : "Text"]:
â•‘[Comment check]:
â•‘[Clock: on]: "Clock name on"
â•‘[Clock: off]: "Clock name off"
â•‘[Ban]: "Add blacklist"
â•‘[Unban]: "Dalate blacklist"
â•‘[Banlist]: "Check blacklist"
â• â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ã€šCÍ“Ì³Í“OÍ“Ì³Í“MÍ“Ì³Í“MÍ“Ì³Í“AÍ“Ì³Í“NÍ“Ì³Í“DÍ“Ì³Í“Â Í“SÍ“Ì³Í“EÍ“Ì³Í“TÍ“Ì³Í“ã€›â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•
â•‘[Contact: on/off]: 
â•‘[Auto join: on/off]: 
â•‘[Auto join: on/off]: 
â•‘[Cancel Invite: 1 on/off]:
â•‘[Auto share: on/off]:
â•‘[Auto leave: on/off]: 
â•‘[Comment: on/off]: 
â•‘[Auto add: on/off]: 
â•‘[Auto like: on/off]: 
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—	
â•‘âŸ¦Ï²Ì³Ì³Ì‹Î¿Ì³Ì³Ì‹Ğ¼Ì³Ì³Ì‹Ğ¼Ì³Ì³Ì‹Î±Ì³Ì³Ì‹Ğ¸Ì³Ì³Ì‹âˆ‚Ì³Ì³Ì‹Â Ì³Ì³Ì‹Î¹Ì³Ì³Ì‹Ğ¸Ì³Ì³Ì‹Â Ì³Ì³Ì‹gÌ³Ì³Ì‹ÑÌ³Ì³Ì‹Î¿Ì³Ì³Ì‹Ï…Ì³Ì³Ì‹ÏÌ³Ì³Ì‹âŸ§â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â•‘[Ban " @Tag]: 
â•‘[Unban " @Tag]: 
â•‘[Urlon]: "Open urL"
â•‘[Urloff]: "Closed urL"
â•‘[Url]: " Check urL room"
â•‘[Ginfo]: "~Ã·~ data room"
â•‘[Invite: "mid"]: 
â•‘[Say: "Text"]: "Kicker talk"
â•‘[Cancel]: "Cancel invite"
â•‘[Gns: "name"]:"Change Gname"
â•‘[NKs: "Name"]:
â•‘[Dead]: "Kick Blacklist"
â•‘[Protect: on/off]:
â•‘[Block url: on/off]:
â•‘[Namelock: on/off]:
â•‘[Blockinvite: on/off]: 
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â•‘
â•‘[By.â¦ã€–PÑ’Ã«Å§ã€—â˜áµ€Ã‹Ã„Màº—à®‡àº¥â‚Ù‚Bâ‚Tâœ“]
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
"""

KAC=[cl,ki,kk,kc]
dmid = cl.getProfile().mid
Amid = ki.getProfile().mid
Bmid = kk.getProfile().mid
Cmid = kc.getProfile().mid
Bots = [dmid,Amid,Bmid,Cmid]
admin = ["u00f827ce6641038d7c9b6704a9777dfa","u9d7a0cfacdbd852419372a2afd1daaae","u82d9e07725267bececace3d7925ee340","u670139ea6781986248dddb6c337de8c8"]
staff = ["u00f827ce6641038d7c9b6704a9777dfa","u9d7a0cfacdbd852419372a2afd1daaae","u82d9e07725267bececace3d7925ee340","u670139ea6781986248dddb6c337de8c8"]
adminMID = "u00f827ce6641038d7c9b6704a9777dfa"
admsa = "u00f827ce6641038d7c9b6704a9777dfa"
wait = {
    'contact':False,
    'autoJoin':False,
    'autoCancel':{"on":True,"members":1},
    'leaveRoom':True,
    'timeline':True,
    'autoAdd':False,
    "lang":"JP",
    "comment":"[SALSEBOT PHET HACK BOT]",
    "commentOn":False,
    "commentBlack":{},
    "wblack":False,
    "dblack":False,
    "clock":False,
    "cName":"",
    "blacklist":{},
    "wblacklist":False,
    "dblacklist":False,
    "protectionOn":False,
    "protect":False,
    "cancelprotect":False,
    "inviteprotect":False,
    "linkprotect":False,
    }

wait2 = {
    'readPoint':{},
    'readMember':{},
    'setTime':{},
    'ROM':{}
    }

setTime = {}
setTime = wait2['setTime']

blacklistFile='blacklist.txt'
pendinglistFile='pendinglist.txt'

contact = cl.getProfile()
mybackup = cl.getProfile()
mybackup.displayName = contact.displayName
mybackup.statusMessage = contact.statusMessage
mybackup.pictureStatus = contact.pictureStatus

def mention(to, nama):
    aa = ""
    bb = ""
    strt = int(14)
    akh = int(14)
    nm = nama
    for mm in nm:
      akh = akh + 2
      aa += """{"S":"""+json.dumps(str(strt))+""","E":"""+json.dumps(str(akh))+""","M":"""+json.dumps(mm)+"},"""
      strt = strt + 6
      akh = akh + 4
      bb += "\xe2\x95\xa0 @x \n"
    aa = (aa[:int(len(aa)-1)])
    msg = Message()
    msg.to = to
    msg.text = "\xe2\x95\x94\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\n"+bb+"\xe2\x95\x9a\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90\xe2\x95\x90"
    msg.contentMetadata ={'MENTION':'{"MENTIONEES":['+aa+']}','EMTVER':'4'}
    print "[Command] Tag All"
    try:
       cl.sendMessage(msg)
    except Exception as error:
       print error

def sendMessage(to, text, contentMetadata={}, contentType=0):
    mes = Message()
    mes.to, mes.from_ = to, profile.mid
    mes.text = text
    mes.contentType, mes.contentMetadata = contentType, contentMetadata
    if to not in messageReq:
        messageReq[to] = -1
    messageReq[to] += 1

def bot(op):
    try:
        if op.type == 0:
            return
        if op.type == 5:
            if wait["autoAdd"] == True:
                cl.findAndAddContactsByMid(op.param1)
                if (wait["message"] in [""," ","\n",None]):
                    pass
                else:
                    cl.sendText(op.param1,str(wait["message"]))
        if op.type == 17:
            group = cl.getGroup(op.param1)
            cb = Message()
            cb.to = op.param1
            cb.text = cl.getContact(op.param2).displayName + "\nğŸ™ à¸ªà¸§à¸±à¸ªà¸”à¸µà¸„à¸£à¸±à¸šà¸œà¸¡ ğŸ™\nğŸ† à¸¢à¸´à¸™à¸”à¸µà¸•à¹‰à¸­à¸™à¸£à¸±à¸šà¸—à¸¸à¸à¸—à¹ˆà¸²à¸™ ğŸ†\n\n[ á´€á´…á´ÉªÉ´ Ê™á´á´› ]\n[ By.à¹€à¸à¸Šà¸£ à¸—à¸µà¸¡à¸—à¸”à¸¥à¸­à¸‡à¸šà¸­à¸— ]"
            cl.sendMessage(cb)
            cb.text = cl.getContact(op.param2).displayName + "\nğŸ‡¹ğŸ‡­ à¸£à¸²à¸¢à¸Šà¸·à¹ˆà¸­à¸à¸¥à¸¸à¹ˆà¸¡à¹‚à¸›à¸£à¹€à¹€à¸à¸£à¸¡à¸—à¸³à¸‡à¸²à¸™ ğŸ‡¹ğŸ‡­\n" + group.name
            cl.sendMessage(cb)

        if op.type == 15:
            if op.param2 in Bots:
                return
            cl.sendText(op.param1, "ğŸ‘‹ à¹€à¹€à¸¥à¹‰à¸§à¸à¸šà¸à¸±à¸™à¹ƒà¸«à¸¡à¹ˆ ğŸ‘‹\nğŸ™‹ à¸šà¸²à¸¢à¸ˆà¸£à¹‰à¸²à¹‚à¸Šà¸„à¸”à¸µà¸™à¸°à¸„à¸£à¸±à¸š ğŸ™‹\n\n[ á´€á´…á´ÉªÉ´ Ê™á´á´› ]\n[ By.à¹€à¸à¸Šà¸£ à¸—à¸µà¸¡à¸—à¸”à¸¥à¸­à¸‡à¸šà¸­à¸—]")
            print "MemberLeft"


        if op.type == 55:
            if op.param1 in wait2['readPoint']:
                Name = cl.getContact(op.param2).displayName
                if Name in wait2['readMember'][op.param1]:
                    pass
                else:
                    wait2['readMember'][op.param1] += '\n â¡ ' + Name
                    wait2['ROM'][op.param1][op.param2] = 'â¡ ' + Name
            else:
                pass

        if op.type == 13:
                if op.param3 in dmid:
                    if op.param2 in Amid:
                        G = ki.getGroup(op.param1)
                        G.preventJoinByTicket = False
                        ki.updateGroup(G)
                        Ticket = ki.reissueGroupTicket(op.param1)
                        cl.acceptGroupInvitationByTicket(op.param1,Ticket)
                        G.preventJoinByTicket = True
                        ki.updateGroup(G)
                        Ticket = ki.reissueGroupTicket(op.param1)

                if op.param3 in Amid:
                    if op.param2 in Bmid:
                        X = kk.getGroup(op.param1)
                        X.preventJoinByTicket = False
                        kk.updateGroup(X)
                        Ti = kk.reissueGroupTicket(op.param1)
                        ki.acceptGroupInvitationByTicket(op.param1,Ti)
                        X.preventJoinByTicket = True
                        kk.updateGroup(X)
                        Ti = kk.reissueGroupTicket(op.param1)

                if op.param3 in Bmid:
                    if op.param2 in Cmid:
                        X = kc.getGroup(op.param1)
                        X.preventJoinByTicket = False
                        kc.updateGroup(X)
                        Ti = kc.reissueGroupTicket(op.param1)
                        kk.acceptGroupInvitationByTicket(op.param1,Ti)
                        X.preventJoinByTicket = True
                        kc.updateGroup(X)
                        Ti = kc.reissueGroupTicket(op.param1)

                if op.param3 in Cmid:
                    if op.param2 in dmid:
                        X = cl.getGroup(op.param1)
                        X.preventJoinByTicket = False
                        cl.updateGroup(X)
                        Ti = cl.reissueGroupTicket(op.param1)
                        kc.acceptGroupInvitationByTicket(op.param1,Ti)
                        X.preventJoinByTicket = True
                        cl.updateGroup(X)
                        Ti = cl.reissueGroupTicket(op.param1)

        if op.type == 13:
                if dmid in op.param3:
                    if wait["autoJoin"] == True:
                        cl.acceptGroupInvitation(op.param1)
                        print "Bot 1 Join"
                        cl.sendText(op.param1,'Hallo Generasi, Hormat ô€œô€…¹Saluteô¿¿')
                        cl.sendText(op.param1,'Daftar Command? Ketik /help')
                    else:
                        print "Error"
                if Amid in op.param3:
                    if wait["autoJoin"] == True:
                        ki.acceptGroupInvitation(op.param1)
                        print "Bot 2 Join"
                        ki.sendText(op.param1,'welcome')
                    else:
                        print "Error"
                if Bmid in op.param3:
                    if wait["autoJoin"] == True:
                        kk.acceptGroupInvitation(op.param1)
                        print "Bot 3 Join"
                        kk.sendText(op.param1,'apa kabar generasi jaman now')
                    else:
                        print "Error"
                if Cmid in op.param3:
                    if wait["autoJoin"] == True:
                        kc.acceptGroupInvitation(op.param1)
                        print "Bot 4 Join"
                        kc.sendText(op.param1,'dasar generasi micin')
                    else:
                        print "Error"

        if op.type == 19:
                    if op.param3 in Bots:
                        random.choice(KAC).kickoutFromGroup(op.param1,[op.param2])
                        random.choice(KAC).inviteIntoGroup(op.param1,[Bots])

        if op.type == 19:
                if dmid in op.param3:
                    if op.param2 in Bots:
                        pass
                    try:
                        ki.kickoutFromGroup(op.param1,[op.param2])
                    except:
                        try:
                            random.choice(KAC).kickoutFromGroup(op.param1,[op.param2])
                        except:
                            print ("client Kick regulation or Because it does not exist in the groupã€\n["+op.param1+"]\nã®\n["+op.param2+"]\nã‚’è¹´ã‚‹äº‹ãŒã§ãã¾ã›ã‚“ã§ã—ãŸã€‚\nãƒ–ãƒ©ãƒƒã‚¯ãƒªã‚¹ãƒˆã«è¿½åŠ ã—ã¾ã™ã€‚")
                        if op.param2 in wait["blacklist"]:
                            pass
                        if op.param2 in wait["whitelist"]:
                            pass
                        else:
                            wait["blacklist"][op.param2] = True
                    G = ki.getGroup(op.param1)
                    G.preventJoinByTicket = False
                    ki.updateGroup(G)
                    Ti = ki.reissueGroupTicket(op.param1)
                    cl.acceptGroupInvitationByTicket(op.param1,Ti)
                    ki.acceptGroupInvitationByTicket(op.param1,Ti)
                    kk.acceptGroupInvitationByTicket(op.param1,Ti)
                    kc.acceptGroupInvitationByTicket(op.param1,Ti)
                    X = cl.getGroup(op.param1)
                    X.preventJoinByTicket = True
                    cl.updateGroup(X)
                    Ti = cl.reissueGroupTicket(op.param1)
                    if op.param2 in wait["blacklist"]:
                        pass
                    if op.param2 in wait["whitelist"]:
                        pass
                    else:
                        wait["blacklist"][op.param2] = True

                if Amid in op.param3:
                    if op.param2 in Bots:
                        pass
                    try:
                        kk.kickoutFromGroup(op.param1,[op.param2])
                        kc.kickoutFromGroup(op.param1,[op.param2])
                        kk.inviteIntoGroup(op.param1,[op.param3])
                        kc.inviteIntoGroup(op.param1,[op.param2])
                    except:
                        try:
#                            random.choice(KAC).kickoutFromGroup(op.param1,[op.param2])
                        except:
                            print ("clientãŒè¹´ã‚Šè¦åˆ¶orã‚°ãƒ«ãƒ¼ãƒ—ã«å­˜åœ¨ã—ãªã„ç‚ºã€\n["+op.param1+"]\nã®\n["+op.param2+"]\nã‚’è¹´ã‚‹äº‹ãŒã§ãã¾ã›ã‚“ã§ã—ãŸã€‚\nãƒ–ãƒ©ãƒƒã‚¯ãƒªã‚¹ãƒˆã«è¿½åŠ ã—ã¾ã™ã€‚")
                        if op.param2 in wait["blacklist"]:
                            pass
                        if op.param2 in wait["whitelist"]:
                            pass
                        else:
                            wait["blacklist"][op.param2] = True

                    X = kk.getGroup(op.param1)
                    X.preventJoinByTicket = False
                    cl.updateGroup(X)
                    Ti = kk.reissueGroupTicket(op.param1)
                    cl.acceptGroupInvitationByTicket(op.param1,Ti)
                    ki.acceptGroupInvitationByTicket(op.param1,Ti)
                    kk.acceptGroupInvitationByTicket(op.param1,Ti)
                    G = ki.getGroup(op.param1)
                    G.preventJoinByTicket = True
                    ki.updateGroup(G)
                    Ticket = ki.reissueGroupTicket(op.param1)
                    if op.param2 in wait["blacklist"]:
                        pass
                    if op.param2 in wait["whitelist"]:
                        pass
                    else:
                        wait["blacklist"][op.param2] = True
                if Bmid in op.param3:
                    if op.param2 in Bots:
                        pass
                    try:
                        kc.kickoutFromGroup(op.param1,[op.param2])
                        kk.kickoutFromGroup(op.param1,[op.param2])
                        kc.inviteIntoGroup(op.param1,[op.param1,[op.param3])
                        kk.inviteIntoGroup(op.param1,[op.param1,[op.param3])
                    except:
                        try:
#                            random.choice(KAC).kickoutFromGroup(op.param1,[op.param2])
                        except:
                            print ("clientãŒè¹´ã‚Šè¦åˆ¶orã‚°ãƒ«ãƒ¼ãƒ—ã«å­˜åœ¨ã—ãªã„ç‚ºã€\n["+op.param1+"]\nã®\n["+op.param2+"]\nã‚’è¹´ã‚‹äº‹ãŒã§ãã¾ã›ã‚“ã§ã—ãŸã€‚\nãƒ–ãƒ©ãƒƒã‚¯ãƒªã‚¹ãƒˆã«è¿½åŠ ã—ã¾ã™ã€‚")
                        if op.param2 in wait["blacklist"]:
                            pass
                        if op.param2 in wait["whitelist"]:
                            pass
                        else:
                            wait["blacklist"][op.param2] = True

                    X = kc.getGroup(op.param1)
                    X.preventJoinByTicket = False
                    kc.updateGroup(X)
                    Ti = kc.reissueGroupTicket(op.param1)
                    cl.acceptGroupInvitationByTicket(op.param1,Ti)
                    ki.acceptGroupInvitationByTicket(op.param1,Ti)
                    kk.acceptGroupInvitationByTicket(op.param1,Ti)
                    kc.acceptGroupInvitationByTicket(op.param1,Ti)
                    G = kk.getGroup(op.param1)
                    G.preventJoinByTicket = True
                    kk.updateGroup(G)
                    Ticket = kk.reissueGroupTicket(op.param1)
                    if op.param2 in wait["blacklist"]:
                        pass
                    if op.param2 in wait["whitelist"]:
                        pass
                    else:
                        wait["blacklist"][op.param2] = True

                if Cmid in op.param3:
                    if op.param2 in Bots:
                        pass
                    try:
                        cl.kickoutFromGroup(op.param1,[op.param2])
                        kk.kickoutFromGroup(op.param1,[op.param2])
                        cl.inviteIntoGroup(op.param1,[op.param1,[op.param3])
                        kk.inviteIntoGroup(op.param1,[op.param1,[op.param3])
                    except:
                        try:
#                            random.choice(KAC).kickoutFromGroup(op.param1,[op.param2])
                        except:
                            print ("clientãŒè¹´ã‚Šè¦åˆ¶orã‚°ãƒ«ãƒ¼ãƒ—ã«å­˜åœ¨ã—ãªã„ç‚ºã€\n["+op.param1+"]\nã®\n["+op.param2+"]\nã‚’è¹´ã‚‹äº‹ãŒã§ãã¾ã›ã‚“ã§ã—ãŸã€‚\nãƒ–ãƒ©ãƒƒã‚¯ãƒªã‚¹ãƒˆã«è¿½åŠ ã—ã¾ã™ã€‚")
                        if op.param2 in wait["blacklist"]:
                            pass
                        if op.param2 in wait["whitelist"]:
                            pass
                        else:
                            wait["blacklist"][op.param2] = True

                    X = cl.getGroup(op.param1)
                    X.preventJoinByTicket = False
                    cl.updateGroup(X)
                    Ti = cl.reissueGroupTicket(op.param1)
                    cl.acceptGroupInvitationByTicket(op.param1,Ti)
                    ki.acceptGroupInvitationByTicket(op.param1,Ti)
                    kk.acceptGroupInvitationByTicket(op.param1,Ti)
                    kc.acceptGroupInvitationByTicket(op.param1,Ti)
                    G = kc.getGroup(op.param1)
                    G.preventJoinByTicket = True
                    kc.updateGroup(G)
                    Ticket = kc.reissueGroupTicket(op.param1)
                    if op.param2 in wait["blacklist"]:
                        pass
                    if op.param2 in wait["whitelist"]:
                        pass
                    else:
                        wait["blacklist"][op.param2] = True
        if op.type == 13:
            if dmid in op.param3:
                G = cl.getGroup(op.param1)
                if wait["autoJoin"] == True:
                    if wait["autoCancel"]["on"] == True:
                        if len(G.members) <= wait["autoCancel"]["members"]:
                            cl.rejectGroupInvitation(op.param1)
                        else:
                            cl.acceptGroupInvitation(op.param1)
                    else:
                        cl.acceptGroupInvitation(op.param1)
                elif wait["autoCancel"]["on"] == True:
                    if len(G.members) <= wait["autoCancel"]["members"]:
                        cl.rejectGroupInvitation(op.param1)
            else:
                Inviter = op.param3.replace("",',')
                InviterX = Inviter.split(",")
                matched_list = []
                for tag in wait["blacklist"]:
                    matched_list+=filter(lambda str: str == tag, InviterX)
                if matched_list == []:
                    pass
                else:
                    cl.cancelGroupInvitation(op.param1, matched_list)

        if op.type == 17:
            if op.param2 not in Bots:
                if op.param2 in Bots:
                    pass
            if wait["protect"] == True:
                try:
                    random.choice(KAC).kickoutFromGroup(op.param1,[op.param2])
                    G = random.choice(KAC).getGroup(op.param1)
                    G.preventJoinByTicket = True
                    random.choice(KAC).updateGroup(G)
           random.choice(KAC).kickoutFromGroup(op.param1,[op.param2])
                except:
                    try:
                        random.choice(KAC).kickoutFromGroup(op.param1,[op.param2])
                        G = random.choice(KAC).getGroup(op.param1)
                        G.preventJoinByTicket = True
                        random.choice(KAC).updateGroup(G)
               random.choice(KAK).kickoutFromGroup(op.param1,[op.param2])
                    except:
                        pass

        if op.type == 13:
            if op.param2 not in Bots:
                if op.param2 in Bots:
                    pass
            elif wait["inviteprotect"] == True:
                cl.cancelGroupInvitation(op.param1,[op.param3])
                random.choice(KAC).kickoutFromGroup(op.param1,[op.param2])
                if op.param2 not in Bots:
                    if op.param2 in Bots:
                        pass
                    elif wait["cancelprotect"] == True:
                        cl.cancelGroupInvitation(op.param1,[contact.mid for contact in cl.getGroup(op.param1).invitee])

        if op.type == 11:
            if op.param2 not in Bots:
                if op.param2 in Bots:
                    pass
            elif wait["linkprotect"] == True:
                G = cl.getGroup(op.param1)
                G.preventJoinByTicket = True
                cl.updateGroup(G)
                random.choice(KAC).kickoutFromGroup(op.param1,[op.param2])
            else:
                cl.sendText(op.param1,"")

        if op.type == 22:
            if wait["leaveRoom"] == True:
                cl.leaveRoom(op.param1)
        if op.type == 24:
            if wait["leaveRoom"] == True:
                cl.leaveRoom(op.param1)
        if op.type == 26:
            msg = op.message
            if msg.toType == 0:
                msg.to = msg.from_
                if msg.from_ == "u00f827ce6641038d7c9b6704a9777dfa":
                    if "join:" in msg.text:
                        list_ = msg.text.split(":")
                        try:
                            cl.acceptGroupInvitationByTicket(list_[1],list_[2])
                            X = cl.getGroup(list_[1])
                            X.preventJoinByTicket = True
                            cl.updateGroup(X)
                        except:
                            cl.sendText(msg.to,"error")
            if msg.toType == 1:
                if wait["leaveRoom"] == True:
                    cl.leaveRoom(msg.to)
            if msg.contentType == 16:
                url = msg.contentMetadata("line://home/post?userMid="+mid+"&postId="+"new_post")
                cl.like(url[25:58], url[66:], likeType=1001)
        if op.type == 26:
            msg = op.message
            if msg.contentType == 0:
                    if msg.to in wait2['readPoint']:
                        if msg.from_ in wait2["ROM"][msg.to]:
                            del wait2["ROM"][msg.to][msg.from_]
                    else:
                        pass
        if op.type == 25:
            msg = op.message
            if msg.contentType == 13:
               if wait["wblack"] == True:
                    if msg.contentMetadata["mid"] in wait["commentBlack"]:
                        cl.sendText(msg.to,"already")
                        wait["wblack"] = False
                    else:
                        wait["commentBlack"][msg.contentMetadata["mid"]] = True
                        wait["wblack"] = False
                        cl.sendText(msg.to,"decided not to comment")

               elif wait["dblack"] == True:
                   if msg.contentMetadata["mid"] in wait["commentBlack"]:
                        del wait["commentBlack"][msg.contentMetadata["mid"]]
                        cl.sendText(msg.to,"deleted")
                        wait["dblack"] = False

                   else:
                        wait["dblack"] = False
                        cl.sendText(msg.to,"It is not in the black list")
               elif wait["wblacklist"] == True:
                   if msg.contentMetadata["mid"] in wait["blacklist"]:
                        cl.sendText(msg.to,"already")
                        wait["wblacklist"] = False
                   else:
                        wait["blacklist"][msg.contentMetadata["mid"]] = True
                        wait["wblacklist"] = False
                        cl.sendText(msg.to,"added")

               elif wait["dblacklist"] == True:
                   if msg.contentMetadata["mid"] in wait["blacklist"]:
                        del wait["blacklist"][msg.contentMetadata["mid"]]
                        cl.sendText(msg.to,"deleted")
                        wait["dblacklist"] = False

                   else:
                        wait["dblacklist"] = False
                        cl.sendText(msg.to,"It is not in the black list")
               elif wait["contact"] == True:
                    msg.contentType = 0
                    if 'displayName' in msg.contentMetadata:
                        contact = cl.getContact(msg.contentMetadata["mid"])
                        try:
                            cu = cl.channel.getCover(msg.contentMetadata["mid"])
                        except:
                            cu = ""
                        cl.sendText(msg.to,"ã€Œ Name ã€ :\n" + msg.contentMetadata["displayName"] + "\nã€Œ Mid ã€ :\n" + msg.contentMetadata["mid"] + "\nã€Œ Status ã€ :\n" + contact.statusMessage + "\nã€Œ Profile ã€ :\nhttp://dl.profile.line-cdn.net/" + contact.pictureStatus + "\nã€Œ Cover ã€ :\n" + str(cu))
                    else:
                        contact = cl.getContact(msg.contentMetadata["mid"])
                        try:
                            cu = cl.channel.getCover(msg.contentMetadata["mid"])
                        except:
                            cu = ""
                        cl.sendText(msg.to,"ã€Œ Name ã€ :\n" + contact.displayName + "\nã€Œ Mid ã€ :\n" + msg.contentMetadata["mid"] + "\nã€Œ Status ã€ :\n" + contact.statusMessage + "\nã€Œ Profile ã€ :\nhttp://dl.profile.line-cdn.net/" + contact.pictureStatus + "\nã€Œ Cover ã€ :\n" + str(cu))
            elif msg.contentType == 16:
                if wait["timeline"] == True:
                    msg.contentType = 0
                    if wait["lang"] == "JP":
                        msg.text = "post URL\n" + msg.contentMetadata["postEndUrl"]
                    else:
                        msg.text = "URLÃ¢â€ â€™\n" + msg.contentMetadata["postEndUrl"]
                    cl.sendText(msg.to,msg.text)
            elif msg.text is None:
                return
#----------------------------------------------------------------------------
#---------------------------- HELP COMMAND ----------------------------------
            elif msg.text.lower() in ["cmd"]:
                cl.sendText(msg.to,helpMessage)
#----------------------------------------------------------------------------
#---------------------------- SPAM CHAT -------------------------------------
            elif "spam " in msg.text:
                if msg.from_ in admin:
                    txt = msg.text.split(" ")
                    jmlh = int(txt[1])
                    teks = msg.text.replace("spam " + str(jmlh) + " ","")
                    if jmlh <= 20:
                        for x in range(jmlh):
                            cl.sendText(msg.to,teks)
#----------------------------------------------------------------------------
#---------------------------- CHANGE GROUP NAME -----------------------------
            elif "/gn " in msg.text:
                if msg.from_ in admin:
                    if msg.toType == 2:
                        X = cl.getGroup(msg.to)
                        X.name = msg.text.replace("/gn ","")
                        cl.updateGroup(X)
                    else:
                        cl.sendText(msg.to,"It can't be used besides the group.")
#----------------------------------------------------------------------------
#-------------------------------- MID ---------------------------------------
            elif msg.text.lower() in ["me"]:
                msg.contentType = 13
                msg.contentMetadata = {'mid': msg.from_}
                cl.sendMessage(msg)
#----------------------------------------------------------------------------
#------------------------------- CREATOR ------------------------------------
            elif msg.text.lower() in ["admin","mee"]:
                msg.contentType = 13
                adm = 'u00f827ce6641038d7c9b6704a9777dfa'
                msg.contentMetadata = {'mid': adm}
                cl.sendMessage(msg)
                cl.sendText(msg.to,"Add Line http://line.me/ti/p/09T2waRE7l")
#----------------------------------------------------------------------------
#--------------------------------- GIFT -------------------------------------
            elif msg.text.lower() in ["gift"]:
                msg.contentType = 9
                msg.contentMetadata={'PRDID': '40ed630f-22d2-4ddd-8999-d64cef5e6c7d',
                                    'PRDTYPE': 'THEME',
                                    'MSGTPL': '5'}
                msg.text = None
                cl.sendMessage(msg)
#----------------------------------------------------------------------------
#------------------------------ CANCEL PENDING ------------------------------
            elif msg.text.lower() in ["cancel","à¸¢à¸à¹€à¸¥à¸´à¸"]:
                if msg.toType == 2:
                    X = cl.getGroup(msg.to)
                    if X.invitee is not None:
                        gInviMids = [contact.mid for contact in X.invitee]
                        cl.cancelGroupInvitation(msg.to, gInviMids)
                    else:
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"No one is inviting")
                        else:
                            cl.sendText(msg.to,"Sorry, nobody absent")
                else:
                    if wait["lang"] == "JP":
                        cl.sendText(msg.to,"Can not be used outside the group")
                    else:
                        cl.sendText(msg.to,"Not for use less than group")
#----------------------------------------------------------------------------
#------------------------------ OPEN URL ------------------------------------
            elif msg.text.lower() in ["/ourl"]:
                if msg.toType == 2:
                    X = cl.getGroup(msg.to)
                    X.preventJoinByTicket = False
                    cl.updateGroup(X)
                    if wait["lang"] == "JP":
                        cl.sendText(msg.to,"Tolong Tutup")
                    else:
                        cl.sendText(msg.to,"already open")
                else:
                    if wait["lang"] == "JP":
                        cl.sendText(msg.to,"Can not be used outside the group")
                    else:
                        cl.sendText(msg.to,"Not for use less than group")
#----------------------------------------------------------------------------
#------------------------------ CLOSE URL -----------------------------------
            elif msg.text.lower() in ["/curl"]:
                if msg.toType == 2:
                    X = cl.getGroup(msg.to)
                    X.preventJoinByTicket = True
                    cl.updateGroup(X)
                    if wait["lang"] == "JP":
                        cl.sendText(msg.to,"Bagus Sudah Tutup")
                    else:
                        cl.sendText(msg.to,"already close")
                else:
                    if wait["lang"] == "JP":
                        cl.sendText(msg.to,"Can not be used outside the group")
                    else:
                        cl.sendText(msg.to,"Not for use less than group")
#----------------------------------------------------------------------------
#------------------------------ GET GROUP LINK ------------------------------
            elif  msg.text.lower() in ["/url"]:
                if msg.toType == 2:
                    x = cl.getGroup(msg.to)
                    if x.preventJoinByTicket == True:
                        x.preventJoinByTicket = False
                        cl.updateGroup(x)
                    gurl = cl.reissueGroupTicket(msg.to)
                    cl.sendText(msg.to,x.name + " : line://ti/g/" + gurl)
                    print "[Command] Get Grup Link"
                else:
                    if wait["lang"] == "JP":
                        cl.sendText(msg.to,"Can't be used outside the group")
                    else:
                        cl.sendText(msg.to,"Not for use less than group")
#----------------------------------------------------------------------------
#------------------------------ GROUP INFO ----------------------------------
            elif msg.text.lower() in ["/ginfo"]:
                if msg.toType == 2:
                    ginfo = cl.getGroup(msg.to)
                    try:
                        gCreator = ginfo.creator.displayName
                    except:
                        gCreator = "Error"
                    if wait["lang"] == "JP":
                        if ginfo.invitee is None:
                            sinvitee = "0"
                        else:
                            sinvitee = str(len(ginfo.invitee))
                        if ginfo.preventJoinByTicket == True:
                            u = "close"
                        else:
                            u = "open"
                        cl.sendText(msg.to,"ô€œô€…¹Saluteô¿¿ Grup Name ô€œô€…¹Saluteô¿¿ :\n" + str(ginfo.name) + "\nã€Œ Grup ID ã€ :\n" + msg.to + "\nô€œô€…¹Saluteô¿¿ Grup Creator ô€œô€…¹Saluteô¿¿ :\n" + gCreator + "\nã€Œ Grup Status ã€ :\nhttp://dl.profile.line.naver.jp/" + ginfo.pictureStatus + "\n\nTotal Anggota : " + str(len(ginfo.members)) + " Orang\nPending : " + sinvitee + " Orang")#URL : " + u + "it is inside")
                    else:
                        cl.sendText(msg.to,"ô€œô€…¹Saluteô¿¿ Grup Name ô€œô€…¹Saluteô¿¿ :\n" + str(ginfo.name) + "\nã€Œ Grup ID ã€ :\n" + msg.to + "\nô€œô€…¹Saluteô¿¿ Grup Creator ô€œô€…¹Saluteô¿¿ :\n" + gCreator + "\nã€Œ Grup Status ã€ :\nhttp://dl.profile.line.naver.jp/" + ginfo.pictureStatus)
                else:
                    if wait["lang"] == "JP":
                        cl.sendText(msg.to,"Grup Only Boy")
                    else:
                        cl.sendText(msg.to,"Not for use less than group")
#----------------------------------------------------------------------------
#---------------------------------- MID -------------------------------------
#=================================================
            elif "Mycopy @" in msg.text:
                if msg.toType == 2:
                    if msg.from_ in admin:
                        print "[COPY] Ok"
                        _name = msg.text.replace("Mycopy @","")
                        _nametarget = _name.rstrip('  ')
                        gs = cl.getGroup(msg.to)
                        targets = []
                        for g in gs.members:
                            if _nametarget == g.displayName:
                                targets.append(g.mid)
                        if targets == []:
                            cl.sendText(msg.to, "Tidak Ada Target Copy")
                        else:
                            for target in targets:
                                try:
                                    cl.cloneContactProfile(target)
                                    cl.sendText(msg.to, "Sukses Copy Profile")
                                except Exception as e:
                                    print e
            elif "Bot1copy @" in msg.text:
                if msg.toType == 2:
                    if msg.from_ in admin:
                        print "[COPY] Ok"
                        _name = msg.text.replace("Bot1copy @","")
                        _nametarget = _name.rstrip('  ')
                        gs = cl.getGroup(msg.to)
                        targets = []
                        for g in gs.members:
                            if _nametarget == g.displayName:
                                targets.append(g.mid)
                        if targets == []:
                            kk.sendText(msg.to, "Tidak Ada Target Copy")
                        else:
                            for target in targets:
                                try:
                                    kk.cloneContactProfile(target)
                                    kk.sendText(msg.to, "Sukses Copy Profile")
                                except Exception as e:
                                    print e
            elif "Bot2copy @" in msg.text:
                if msg.toType == 2:
                    if msg.from_ in admin:
                        print "[COPY] Ok"
                        _name = msg.text.replace("Bot2copy @","")
                        _nametarget = _name.rstrip('  ')
                        gs = cl.getGroup(msg.to)
                        targets = []
                        for g in gs.members:
                            if _nametarget == g.displayName:
                                targets.append(g.mid)
                        if targets == []:
                            ki.sendText(msg.to, "Tidak Ada Target Copy")
                        else:
                            for target in targets:
                                try:
                                    ki.cloneContactProfile(target)
                                    kk.sendText(msg.to, "Sukses Copy Profile")
                                except Exception as e:
                                    print e
            elif "Bot3copy @" in msg.text:
                if msg.toType == 2:
                    if msg.from_ in admin:
                        print "[COPY] Ok"
                        _name = msg.text.replace("Bot3copy @","")
                        _nametarget = _name.rstrip('  ')
                        gs = cl.getGroup(msg.to)
                        targets = []
                        for g in gs.members:
                            if _nametarget == g.displayName:
                                targets.append(g.mid)
                        if targets == []:
                            kc.sendText(msg.to, "Tidak Ada Target Copy")
                        else:
                            for target in targets:
                                try:
                                    kc.cloneContactProfile(target)
                                    kc.sendText(msg.to, "Sukses Copy Profile")
                                except Exception as e:
                                    print e

#=================================================
            elif msg.text in ["Mebb"]:
                try:
                    cl.updateDisplayPicture(mybackup.pictureStatus)
                    cl.updateProfile(mybackup)
                    cl.sendText(msg.to, "Backup Sukses Bosqu")
                except Exception as e:
                    cl.sendText(msg.to, str (e))
            elif msg.text in ["Botbb"]:
                try:
                    kk.updateDisplayPicture(mybackup.pictureStatus)
                    kk.updateProfile(mybackup)
                    kk.sendText(msg.to, "Backup Sukses Bosqu")
                    ki.updateDisplayPicture(mybackup.pictureStatus)
                    ki.updateProfile(mybackup)
                    ki.sendText(msg.to, "Backup Sukses Bosqu")
                    kc.updateDisplayPicture(mybackup.pictureStatus)
                    kc.updateProfile(mybackup)
                    kc.sendText(msg.to, "Backup Sukses Bosqu")
                except Exception as e:
                    kk.sendText(msg.to, str (e))
                    ki.sendText(msg.to, str (e))
                    kc.sendText(msg.to, str (e))
#=================================================

#========================================
            elif msg.text in ["à¸—à¸µà¸¡à¸‡à¸²à¸™","à¸—à¸µà¸¡à¸—à¸”à¸¥à¸­à¸‡à¸šà¸­à¸—"]:
                msg.contentType = 13
                cl.sendText(msg.to, "[SELFBOT PHET HACK BOT]\n\n[â˜¢Å¦â‚¬â‚³Mâ‰ˆà²¨á€”à¹‰à¦£à¦â‰ˆà¸¿â‚Å¦â˜¢]\n[By.à¸—à¸µà¸¡à¸‡à¸²à¸™à¸—à¸µà¸¡à¸—à¸”à¸¥à¸­à¸‡à¸šà¸­à¸—]")
                cl.sendText(msg.to, "à¸œà¸¹à¹‰à¸ˆà¸±à¸”à¸à¸²à¸£à¸—à¸µà¸¡à¸‡à¸²à¸™:ğŸ¯à¤¹à¤ˆàº—àº®àº®à¹…àªœà¤ˆà¤¹ğŸ¯")
                msg.contentMetadata = {'mid': 'u820d01252fdcf2a539fa194bcfc3400e'}
                cl.sendMessage(msg)
                cl.sendText(msg.to, "à¸£à¸­à¸‡à¸œà¸¹à¹‰à¸ˆà¸±à¸”à¸à¸²à¸£à¸—à¸µà¸¡à¸‡à¸²à¸™:Î²â€¢`BF.à¸šà¸±à¹‰à¸¡â€¢`")
                msg.contentMetadata = {'mid': 'u49974a7c78af9f3a8fec3e1dc7c646a9'}
                cl.sendMessage(msg)
                cl.sendText(msg.to, "à¸›à¸£à¸°à¸˜à¸²à¸™à¹ƒà¸«à¸à¹ˆ:à¹€à¸à¸Šà¸£ à¸—à¸µà¸¡à¸—à¸”à¸¥à¸­à¸‡à¸šà¸­à¸—")
                msg.contentMetadata = {'mid': 'u00f827ce6641038d7c9b6704a9777dfa'}
                cl.sendMessage(msg)
                cl.sendText(msg.to, "à¸›à¸£à¸°à¸˜à¸²à¸™:á´³á´œ áµ€á´‡áµƒá´ á´´aÌ´á¶œá´‹ á´®á´áµ€")
                msg.contentMetadata = {'mid': 'u3b35ed7d2edb147bf94e557513018a39'}
                cl.sendMessage(msg)
                cl.sendText(msg.to, "à¸£à¸­à¸‡à¸›à¸£à¸°à¸˜à¸²à¸™:ğŸ’«à§€á€”à¹‰àºªÙ‚à¸±Ï€à¸±à¯­âğŸ’«")
                msg.contentMetadata = {'mid': 'u765bec541d4f21cf0afdceb69b4b2ebd'}
                cl.sendMessage(msg)
                cl.sendText(msg.to, "à¸£à¸›à¸ .:âœÅ¦â‚¬â‚³Mâ˜¬Ğ¶â˜¬Ä¦â‚³Ê—Òœà¸¿â‚Å¦âœˆà¹›")
                msg.contentMetadata = {'mid': 'u409892727431e6e682114336a3be2784'}
                cl.sendMessage(msg)
                cl.sendText(msg.to, "à¸•à¸±à¸§à¹€à¹€à¸—à¸™à¸ªà¸¡à¸²à¸Šà¸´à¸:ğŸƒğŸNothingEidğŸğŸƒ")
                msg.contentMetadata = {'mid': 'ue9e8dbdbfa31491ddc82ed73950b45f0'}
                cl.sendMessage(msg)
                cl.sendText(msg.to, "à¸•à¸±à¸§à¹€à¹€à¸—à¸™à¸ªà¸¡à¸²à¸Šà¸´à¸:Ä´Ã¶É±ğŸ’SÑ‚ÉªcÎºÑ”Ê€á´¸á¶¤á¶°áµ‰")
                msg.contentMetadata = {'mid': 'u76be42d134b394580644e1eed2bed029'}
                cl.sendMessage(msg)
            elif msg.text in ["Bot1 Team"]:
                msg.contentType = 13
                kk.sendText(msg.to, "[SELFBOT PHET HACK BOT]\n\n[â˜¢Å¦â‚¬â‚³Mâ‰ˆà²¨á€”à¹‰à¦£à¦â‰ˆà¸¿â‚Å¦â˜¢]\n[By.à¸—à¸µà¸¡à¸‡à¸²à¸™à¸—à¸µà¸¡à¸—à¸”à¸¥à¸­à¸‡à¸šà¸­à¸—]")
                kk.sendText(msg.to, "à¸œà¸¹à¹‰à¸ˆà¸±à¸”à¸à¸²à¸£à¸—à¸µà¸¡à¸‡à¸²à¸™:ğŸ¯à¤¹à¤ˆàº—àº®àº®à¹…àªœà¤ˆà¤¹ğŸ¯")
                msg.contentMetadata = {'mid': 'u820d01252fdcf2a539fa194bcfc3400e'}
                kk.sendMessage(msg)
                kk.sendText(msg.to, "à¸£à¸­à¸‡à¸œà¸¹à¹‰à¸ˆà¸±à¸”à¸à¸²à¸£à¸—à¸µà¸¡à¸‡à¸²à¸™:Î²â€¢`BF.à¸šà¸±à¹‰à¸¡â€¢`")
                msg.contentMetadata = {'mid': 'u49974a7c78af9f3a8fec3e1dc7c646a9'}
                kk.sendMessage(msg)
                kk.sendText(msg.to, "à¸›à¸£à¸°à¸˜à¸²à¸™à¹ƒà¸«à¸à¹ˆ:à¹€à¸à¸Šà¸£ à¸—à¸µà¸¡à¸—à¸”à¸¥à¸­à¸‡à¸šà¸­à¸—")
                msg.contentMetadata = {'mid': 'u00f827ce6641038d7c9b6704a9777dfa'}
                kk.sendMessage(msg)
                kk.sendText(msg.to, "à¸›à¸£à¸°à¸˜à¸²à¸™:á´³á´œ áµ€á´‡áµƒá´ á´´aÌ´á¶œá´‹ á´®á´áµ€")
                msg.contentMetadata = {'mid': 'u3b35ed7d2edb147bf94e557513018a39'}
                kk.sendMessage(msg)
                kk.sendText(msg.to, "à¸£à¸­à¸‡à¸›à¸£à¸°à¸˜à¸²à¸™:ğŸ’«à§€á€”à¹‰àºªÙ‚à¸±Ï€à¸±à¯­âğŸ’«")
                msg.contentMetadata = {'mid': 'u765bec541d4f21cf0afdceb69b4b2ebd'}
                kk.sendMessage(msg)
                kk.sendText(msg.to, "à¸£à¸›à¸ .:âœÅ¦â‚¬â‚³Mâ˜¬Ğ¶â˜¬Ä¦â‚³Ê—Òœà¸¿â‚Å¦âœˆà¹›")
                msg.contentMetadata = {'mid': 'u409892727431e6e682114336a3be2784'}
                kk.sendMessage(msg)
                kk.sendText(msg.to, "à¸•à¸±à¸§à¹€à¹€à¸—à¸™à¸ªà¸¡à¸²à¸Šà¸´à¸:ğŸƒğŸNothingEidğŸğŸƒ")
                msg.contentMetadata = {'mid': 'ue9e8dbdbfa31491ddc82ed73950b45f0'}
                kk.sendMessage(msg)
                kk.sendText(msg.to, "à¸•à¸±à¸§à¹€à¹€à¸—à¸™à¸ªà¸¡à¸²à¸Šà¸´à¸:Ä´Ã¶É±ğŸ’SÑ‚ÉªcÎºÑ”Ê€á´¸á¶¤á¶°áµ‰")
                msg.contentMetadata = {'mid': 'u76be42d134b394580644e1eed2bed029'}
                kk.sendMessage(msg)
            elif msg.text in ["Botre Team"]:
                msg.contentType = 13
                kk.sendText(msg.to, "[SELFBOT PHET HACK BOT]\n\n[â˜¢Å¦â‚¬â‚³Mâ‰ˆà²¨á€”à¹‰à¦£à¦â‰ˆà¸¿â‚Å¦â˜¢]\n[By.à¸—à¸µà¸¡à¸‡à¸²à¸™à¸—à¸µà¸¡à¸—à¸”à¸¥à¸­à¸‡à¸šà¸­à¸—]")
                ki.sendText(msg.to, "à¸œà¸¹à¹‰à¸ˆà¸±à¸”à¸à¸²à¸£à¸—à¸µà¸¡à¸‡à¸²à¸™:ğŸ¯à¤¹à¤ˆàº—àº®àº®à¹…àªœà¤ˆà¤¹ğŸ¯")
                msg.contentMetadata = {'mid': 'u820d01252fdcf2a539fa194bcfc3400e'}
                kc.sendMessage(msg)
                kk.sendText(msg.to, "à¸£à¸­à¸‡à¸œà¸¹à¹‰à¸ˆà¸±à¸”à¸à¸²à¸£à¸—à¸µà¸¡à¸‡à¸²à¸™:Î²â€¢`BF.à¸šà¸±à¹‰à¸¡â€¢`")
                msg.contentMetadata = {'mid': 'u49974a7c78af9f3a8fec3e1dc7c646a9'}
                ki.sendMessage(msg)
                kc.sendText(msg.to, "à¸›à¸£à¸°à¸˜à¸²à¸™à¹ƒà¸«à¸à¹ˆ:à¹€à¸à¸Šà¸£ à¸—à¸µà¸¡à¸—à¸”à¸¥à¸­à¸‡à¸šà¸­à¸—")
                msg.contentMetadata = {'mid': 'u00f827ce6641038d7c9b6704a9777dfa'}
                kk.sendMessage(msg)
                ki.sendText(msg.to, "à¸›à¸£à¸°à¸˜à¸²à¸™:á´³á´œ áµ€á´‡áµƒá´ á´´aÌ´á¶œá´‹ á´®á´áµ€")
                msg.contentMetadata = {'mid': 'u3b35ed7d2edb147bf94e557513018a39'}
                kc.sendMessage(msg)
                kk.sendText(msg.to, "à¸£à¸­à¸‡à¸›à¸£à¸°à¸˜à¸²à¸™:ğŸ’«à§€á€”à¹‰àºªÙ‚à¸±Ï€à¸±à¯­âğŸ’«")
                msg.contentMetadata = {'mid': 'u765bec541d4f21cf0afdceb69b4b2ebd'}
                ki.sendMessage(msg)
                kc.sendText(msg.to, "à¸£à¸›à¸ .:âœÅ¦â‚¬â‚³Mâ˜¬Ğ¶â˜¬Ä¦â‚³Ê—Òœà¸¿â‚Å¦âœˆà¹›")
                msg.contentMetadata = {'mid': 'u409892727431e6e682114336a3be2784'}
                kk.sendMessage(msg)
                ki.sendText(msg.to, "à¸•à¸±à¸§à¹€à¹€à¸—à¸™à¸ªà¸¡à¸²à¸Šà¸´à¸:ğŸƒğŸNothingEidğŸğŸƒ")
                msg.contentMetadata = {'mid': 'ue9e8dbdbfa31491ddc82ed73950b45f0'}
                kc.sendMessage(msg)
                kk.sendText(msg.to, "à¸•à¸±à¸§à¹€à¹€à¸—à¸™à¸ªà¸¡à¸²à¸Šà¸´à¸:Ä´Ã¶É±ğŸ’SÑ‚ÉªcÎºÑ”Ê€á´¸á¶¤á¶°áµ‰")
                msg.contentMetadata = {'mid': 'u76be42d134b394580644e1eed2bed029'}
                ki.sendMessage(msg)

#========================================

-------------------------------------------------------
            elif ("PK " in msg.text):
                   targets = []
                   key = eval(msg.contentMetadata["MENTION"])
                   key["MENTIONEES"][0]["M"]
                   for x in key["MENTIONEES"]:
                       targets.append(x["M"])
                   for target in targets:
                       try:
                           cl.kickoutFromGroup(msg.to,[target])
                       except:
                           cl.sendText(msg.to,"Error")
            elif ("PK1 " in msg.text):
                   targets = []
                   key = eval(msg.contentMetadata["MENTION"])
                   key["MENTIONEES"][0]["M"]
                   for x in key["MENTIONEES"]:
                       targets.append(x["M"])
                   for target in targets:
                       try:
                           kk.kickoutFromGroup(msg.to,[target])
                       except:
                           kk.sendText(msg.to,"Error")
            elif ("PK2 " in msg.text):
                   targets = []
                   key = eval(msg.contentMetadata["MENTION"])
                   key["MENTIONEES"][0]["M"]
                   for x in key["MENTIONEES"]:
                       targets.append(x["M"])
                   for target in targets:
                       try:
                           ki.kickoutFromGroup(msg.to,[target])
                       except:
                           ki.sendText(msg.to,"Error")
            elif ("PK3 " in msg.text):
                   targets = []
                   key = eval(msg.contentMetadata["MENTION"])
                   key["MENTIONEES"][0]["M"]
                   for x in key["MENTIONEES"]:
                       targets.append(x["M"])
                   for target in targets:
                       try:
                           kc.kickoutFromGroup(msg.to,[target])
                       except:
                           kc.sendText(msg.to,"Error")

-------------------------------------------------------

===================================
            elif "Hack4" in msg.text:
                key = eval(msg.contentMetadata["MENTION"])
                key1 = key["MENTIONEES"][0]["M"]
                contact = cl.getContact(key1)
                cu = cl.channel.getCover(key1)
                try:
                    cl.sendText(msg.to,"[name]\n" + contact.displayName + "\n[mid]\n" + contact.mid + "\n[statusmessage]\n" + contact.statusMessage + "\n[profilePicture]\nhttp://dl.profile.line-cdn.net/" + contact.pictureStatus + "\n[homePicture]\n" + str(cu))
                except:
                    cl.sendText(msg.to,"[name]\n" + contact.displayName + "\n[mid]\n" + contact.mid + "\n[statusmessage]\n" + contact.statusMessage + "\n[homePicture]\n" + str(cu))
#=============================================
            elif msg.text in ["Speed"]:
                start = time.time()
                cl.sendText(msg.to, "Waiting...")
                elapsed_time = time.time() - start
                cl.sendText(msg.to, "%ssn" % (elapsed_time))
#----------------------------------------------------------------------------
            elif msg.text in ["55"]:
                msg.contentType = 7
                msg.text = None
                msg.contentMetadata = {
                                     "STKID": "100",
                                     "STKPKGID": "1",
                                     "STKVER": "100" }
                ki.sendMessage(msg)
            elif msg.text in ["Lol"]:
                msg.contentType = 7
                msg.text = None
                msg.contentMetadata = {
                                     "STKID": "10",
                                     "STKPKGID": "1",
                                     "STKVER": "100" }
                ki.sendMessage(msg)
            elif msg.text in ["Sorry"]:
                msg.contentType = 7
                msg.text = None
                msg.contentMetadata = {
                                     "STKID": "9",
                                     "STKPKGID": "1",
                                     "STKVER": "100" }
                ki.sendMessage(msg)
            elif msg.text in ["à¸«à¸¶"]:
                msg.contentType = 7
                msg.text = None
                msg.contentMetadata = {
                                     "STKID": "7",
                                     "STKPKGID": "1",
                                     "STKVER": "100" }
                ki.sendMessage(msg)
            elif msg.text in ["?"]:
                msg.contentType = 7
                msg.text = None
                msg.contentMetadata = {
                                     "STKID": "6",
                                     "STKPKGID": "1",
                                     "STKVER": "100" }
                ki.sendMessage(msg)
            elif msg.text in ["à¸™à¸°"]:
                msg.contentType = 7
                msg.text = None
                msg.contentMetadata = {
                                     "STKID": "4",
                                     "STKPKGID": "1",
                                     "STKVER": "100" }
                ki.sendMessage(msg)
            elif msg.text in ["à¸«à¸°"]:
                msg.contentType = 7
                msg.text = None
                msg.contentMetadata = {
                                     "STKID": "3",
                                     "STKPKGID": "1",
                                     "STKVER": "100" }
                ki.sendMessage(msg)
            elif msg.text in ["555"]:
                msg.contentType = 7
                msg.text = None
                msg.contentMetadata = {
                                     "STKID": "110",
                                     "STKPKGID": "1",
                                     "STKVER": "100" }
                ki.sendMessage(msg)
            elif msg.text in ["à¹€à¸­à¸´à¹ˆà¸¡"]:
                msg.contentType = 7
                msg.text = None
                msg.contentMetadata = {
                                     "STKID": "101",
                                     "STKPKGID": "1",
                                     "STKVER": "100" }
                ki.sendMessage(msg)
#------------------------------ CHANGE NAME ---------------------------------
            elif "/à¸Šà¸·à¹ˆà¸­à¸šà¸­à¸—:" in msg.text:
                if msg.from_ in admin:
                    string = msg.text.replace("/à¸Šà¸·à¹ˆà¸­à¸šà¸­à¸—:","")
                    if len(string.decode('utf-8')) <= 20:
                        profile = ki.getProfile()
                        profile.displayName = string
                        ki.updateProfile(profile)
                        ki.sendText(msg.to,"Done")
                    if len(string.decode('utf-8')) <= 20:
                        profile = kk.getProfile()
                        profile.displayName = string
                        kk.updateProfile(profile)
                        kk.sendText(msg.to,"Done")
                    if len(string.decode('utf-8')) <= 20:
                        profile = kc.getProfile()
                        profile.displayName = string
                        kc.updateProfile(profile)
                        kc.sendText(msg.to,"Done")




#----------------------------------------------------------------------------
#------------------------------ CHANGE BIO ----------------------------------
            elif "/à¸•à¸±à¸ªà¸šà¸­à¸—:" in msg.text:
                if msg.from_ in admin:
                    string = msg.text.replace("/à¸•à¸±à¸ªà¸šà¸­à¸—:","")
                    if len(string.decode('utf-8')) <= 500:
                        profile = ki.getProfile()
                        profile.statusMessage = string
                        ki.updateProfile(profile)
                        ki.sendText(msg.to,"Done")
                    if len(string.decode('utf-8')) <= 500:
                        profile = kk.getProfile()
                        profile.statusMessage = string
                        kk.updateProfile(profile)
                        kk.sendText(msg.to,"Done")
                    if len(string.decode('utf-8')) <= 500:
                        profile = kc.getProfile()
                        profile.statusMessage = string
                        kc.updateProfile(profile)
                        kc.sendText(msg.to,"Done")
#                    if len(string.decode('utf-8')) <= 500:
#                        profile = cl.getProfile()
#                        profile.statusMessage = string
#                        cl.updateProfile(profile)
#                        cl.sendText(msg.to,"Done")

#----------------------------------------------------------------------------                    
            elif msg.text.lower() in ["contact on"]:
                if msg.from_ in admin:
                    if wait["contact"] == True:
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done ON")
                        else:
                            cl.sendText(msg.to,"Done ON")
                    else:
                        wait["contact"] = True
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done ON")
                        else:
                            cl.sendText(msg.to,"Done ON")

            elif msg.text.lower() in ["contact off"]:
                if msg.from_ in admin:
                    if wait["contact"] == False:
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done OFF")
                        else:
                            cl.sendText(msg.to,"Done OFF")
                    else:
                        wait["contact"] = False
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done OFF")
                        else:
                            cl.sendText(msg.to,"Done OFF")

            elif msg.text.lower() in ["join on"]:
                if msg.from_ in admin:
                    if wait["autoJoin"] == True:
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done ON")
                        else:
                            cl.sendText(msg.to,"Done ON")
                    else:
                        wait["autoJoin"] = True
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done ON")
                        else:
                            cl.sendText(msg.to,"Done ON")

            elif msg.text.lower() in ["join off"]:
                if msg.from_ in admin:
                    if wait["autoJoin"] == False:
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done OFF")
                        else:
                            cl.sendText(msg.to,"Done OFF")
                    else:
                        wait["autoJoin"] = False
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done OFF")
                        else:
                            cl.sendText(msg.to,"Done OFF")

            elif msg.text in ["Gcancel:"]:
                if msg.from_ in admin:
                    try:
                        strnum = msg.text.replace("Gcancel:","")
                        if strnum == "off":
                            wait["autoCancel"]["on"] = False
                            if wait["lang"] == "JP":
                                cl.sendText(msg.to,"Invitation refused turned off\nTo turn on please specify the number of people and send")
                            else:
                                cl.sendText(msg.to,"Ã¥â€¦Â³Ã¤Âºâ€ Ã©â€šâ‚¬Ã¨Â¯Â·Ã¦â€¹â€™Ã§Â»ÂÃ£â‚¬â€šÃ¨Â¦ÂÃ¦â€”Â¶Ã¥Â¼â‚¬Ã¨Â¯Â·Ã¦Å’â€¡Ã¥Â®Å¡Ã¤ÂºÂºÃ¦â€¢Â°Ã¥Ââ€˜Ã©â‚¬Â")
                        else:
                            num =  int(strnum)
                            wait["autoCancel"]["on"] = True
                            if wait["lang"] == "JP":
                                cl.sendText(msg.to,strnum + "The group of people and below decided to automatically refuse invitation")
                            else:
                                cl.sendText(msg.to,strnum + "Ã¤Â½Â¿Ã¤ÂºÂºÃ¤Â»Â¥Ã¤Â¸â€¹Ã§Å¡â€Ã¥Â°ÂÃ§Â»â€Ã§â€Â¨Ã¨â€¡ÂªÃ¥Å Â¨Ã©â€šâ‚¬Ã¨Â¯Â·Ã¦â€¹â€™Ã§Â»Â")
                    except:
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Value is wrong")
                        else:
                            cl.sendText(msg.to,"Bizarre ratings")

            elif msg.text.lower() in ["leave on"]:
                if msg.from_ in admin:
                    if wait["leaveRoom"] == True:
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done ON")
                        else:
                            cl.sendText(msg.to,"Done ON")
                    else:
                        wait["leaveRoom"] = True
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done ON")
                        else:
                            cl.sendText(msg.to,"Done ON")

            elif msg.text.lower() in ["leave off"]:
                if msg.from_ in admin:
                    if wait["leaveRoom"] == False:
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done OFF")
                        else:
                            cl.sendText(msg.to,"Done OFF")
                    else:
                        wait["leaveRoom"] = False
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done OFF")
                        else:
                            cl.sendText(msg.to,"Done OFF")

            elif msg.text.lower() in ["protect on"]:
                if msg.from_ in admin:
                    if wait["protect"] == True:
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done ON")
                        else:
                            cl.sendText(msg.to,"Done ON")
                    else:
                        wait["protect"] = True
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done ON")
                        else:
                            cl.sendText(msg.to,"Done ON")

            elif msg.text.lower() in ["protect off"]:
                if msg.from_ in admin:
                    if wait["protect"] == False:
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done OFF")
                        else:
                            cl.sendText(msg.to,"Done OFF")
                    else:
                        wait["protect"] = False
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done OFF")
                        else:
                            cl.sendText(msg.to,"Done  OFF")

            elif msg.text.lower() in ["qr on"]:
                if msg.from_ in admin:
                    if wait["linkprotect"] == True:
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done ON")
                        else:
                            cl.sendText(msg.to,"Done ON")
                    else:
                        wait["linkprotect"] = True
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done ON")
                        else:
                            cl.sendText(msg.to,"Done ON")

            elif msg.text.lower() in ["qr off"]:
                if msg.from_ in admin:
                    if wait["linkprotect"] == False:
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done OFF")
                        else:
                            cl.sendText(msg.to,"Done OFF")
                    else:
                        wait["linkprotect"] = False
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done OFF")
                        else:
                            cl.sendText(msg.to,"Done OFF")

            elif msg.text.lower() in ["invite on"]:
                if msg.from_ in admin:
                    if wait["inviteprotect"] == True:
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done ON")
                        else:
                            cl.sendText(msg.to," Done ON")
                    else:
                        wait["inviteprotect"] = True
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done ON")
                        else:
                            cl.sendText(msg.to,"Done ON")

            elif msg.text.lower() in ["invite off"]:
                if msg.from_ in admin:
                    if wait["inviteprotect"] == False:
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done OFF")
                        else:
                            cl.sendText(msg.to,"Done OFF")
                    else:
                        wait["inviteprotect"] = False
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done OFF")
                        else:
                            cl.sendText(msg.to,"Done OFF")

            elif msg.text.lower() in ["cancel on"]:
                if msg.from_ in admin:
                    if wait["cancelprotect"] == True:
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done ON")
                        else:
                            cl.sendText(msg.to,"Done ON")
                    else:
                        wait["cancelprotect"] = True
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done ON")
                        else:
                            cl.sendText(msg.to,"Done ON")

            elif msg.text.lower() in ["cancel off"]:
                if msg.from_ in admin:
                    if wait["cancelprotect"] == False:
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done OFF")
                        else:
                            cl.sendText(msg.to,"Done OFF")
                    else:
                        wait["cancelprotect"] = False
                        if wait["lang"] == "JP":
                            cl.sendText(msg.to,"Done OFF")
                        else:
                            cl.sendText(msg.to,"Done OFF")
#------------------------------ STATUS BOT ----------------------------------
            elif "#cmd" in msg.text.lower():
                md = "âœ¯= ê§ ğŸ¯à¤¹à¤ˆàº—àº®àº®à¹…àªœà¤ˆà¤¹ğŸ¯ ê§‚=âœ¯\n\n"
                if wait["contact"] == True: md+="ô€œô€‡”ô¿¿ Contact : onô€œô€„¯ô¿¿\n"
                else: md+="ô€œô€‡”ô¿¿ô€œô€‡”ô¿¿ Contact : offô€œô€„°ô¿¿\n"
                if wait["autoJoin"] == True: md+="ô€œô€‡”ô¿¿ Auto join : onô€œô€„¯ô¿¿\n"
                else: md +="ô€œô€‡”ô¿¿ô€œô€‡”ô¿¿ Auto join : offô€œô€„°ô¿¿\n"
                if wait["leaveRoom"] == True: md+="ô€œô€‡”ô¿¿ Auto leave : onô€œô€„¯ô¿¿\n"
                else: md+="ô€œô€‡”ô¿¿ Auto leave : offô€œô€„°ô¿¿\n"
                if wait["autoAdd"] == True: md+="ô€œô€‡”ô¿¿ Auto add : onô€œô€„¯ô¿¿\n"
                else:md+="ô€œô€‡”ô¿¿ Auto add : offô€œô€„°ô¿¿\n"
                if wait["protect"] == True: md+="ô€œô€‡”ô¿¿ Protect : onô€œô€„¯ô¿¿\n"
                else:md+="ô€œô€‡”ô¿¿ Protect : offô€œô€„°ô¿¿\n"
                if wait["linkprotect"] == True: md+="ô€œô€‡”ô¿¿ Link Protect : onô€œô€„¯ô¿¿\n"
                else:md+="ô€œô€‡”ô¿¿ Link Protect : offô€œô€„°ô¿¿\n"
                if wait["inviteprotect"] == True: md+="ô€œô€‡”ô¿¿ Invite Protect : onô€œô€„¯ô¿¿\n"
                else:md+="ô€œô€‡”ô¿¿ Invite Protect : offô€œô€„°ô¿¿\n"
                if wait["cancelprotect"] == True: md+="ô€œô€‡”ô¿¿ Cancel Protect : onô€œô€„¯ô¿¿"
                else:md+="ô€œô€‡”ô¿¿ Cancel Protect : offô€œô€„°ô¿¿"
                cl.sendText(msg.to,md)
                msg.contentType = 13
                msg.contentMetadata = {'mid': admsa}
                cl.sendText(msg)
#----------------------------------------------------------------------------
#---------------------------- GROUP ID / LIST--------------------------------
            elif msg.text.lower() in ["myginfoid"]:
                if msg.from_ in admin:
                    gid = cl.getGroupIdsJoined()
                    h = ""
                    for i in gid:
                        h += "[*] %s\n%s\n" % (cl.getGroup(i).name,i)
                    cl.sendText(msg.to,h)

            elif msg.text.lower() in ["myginfoname"]:
                if msg.from_ in admin:
                    gid = cl.getGroupIdsJoined()
                    h = ""
                    for i in gid:
                        h += "[*] %s \n" % (cl.getGroup(i).name + " : " + str(len(cl.getGroup(i).members)) + " Members")
                    cl.sendText(msg.to,"ã€ŒList Groupã€\n" + h + "Total Group : " + str(len(gid)))
#----------------------------------------------------------------------------
#------------------------------ CANCEL GROUP --------------------------------
            elif msg.text.lower() in ["cancelall","à¸¢à¸à¹€à¸¥à¸´à¸à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”"]:
                gid = cl.getGroupIdsInvited()
                for i in gid:
                    cl.rejectGroupInvitation(i)
                if wait["lang"] == "JP":
                    cl.sendText(msg.to,"Done")
                else:
                    cl.sendText(msg.to,"Nothing invite.")
#----------------------------------------------------------------------------
#------------------------------- JOIN GROUP ---------------------------------
            elif msg.text.lower() in ["#phet2","#go","à¸¡à¸²à¸«à¸³"]:
                if msg.from_ in admin:
                        G = cl.getGroup(msg.to)
                        ginfo = cl.getGroup(msg.to)
                        G.preventJoinByTicket = False
                        cl.updateGroup(G)
                        invsend = 0
                        Ticket = cl.reissueGroupTicket(msg.to)
                        ki.acceptGroupInvitationByTicket(msg.to,Ticket)
                        time.sleep(0.1)
                        kk.acceptGroupInvitationByTicket(msg.to,Ticket)
                        time.sleep(0.1)
                        kc.acceptGroupInvitationByTicket(msg.to,Ticket)
                        time.sleep(0.1)
                        G = cl.getGroup(msg.to)
                        G.preventJoinByTicket = True
                        ki.updateGroup(G)
                        print "[Command] Join"
                        G.preventJoinByTicket(G)
                        ki.updateGroup(G)

            elif msg.text.lower() in ["bot1 in"]:
                if msg.from_ in admin:
                        G = cl.getGroup(msg.to)
                        ginfo = cl.getGroup(msg.to)
                        G.preventJoinByTicket = False
                        cl.updateGroup(G)
                        invsend = 0
                        Ticket = cl.reissueGroupTicket(msg.to)
                        ki.acceptGroupInvitationByTicket(msg.to,Ticket)
                        time.sleep(0.2)
                        G = cl.getGroup(msg.to)
                        G.preventJoinByTicket = True
                        ki.updateGroup(G)
                        print "[Command] Join"
                        G.preventJoinByTicket(G)
                        ki.updateGroup(G)










#----------------------------------------------------------------------------
#-------------------------------- OUT GROUP ---------------------------------
            elif msg.text.lower() in ["#bye2","#à¸­à¸­à¸","à¸«à¸³à¸­à¸­à¸"#bye]:
                if msg.toType == 2:
                  if msg.from_ in admin:
                    print "[Command] Bye"
                    ginfo = cl.getGroup(msg.to)
                    try:
                        ki.leaveGroup(msg.to)
                        kk.leaveGroup(msg.to)
                        kc.leaveGroup(msg.to)
                    except:
                        pass
#----------------------------------------------------------------------------
#------------------------------ BROADCAST PC --------------------------------
            elif "/bc " in msg.text:
                if msg.from_ in admin:
                    broadcasttxt = msg.text.replace("/bc ", "")
                    orang = cl.getAllContactIds()
                    for manusia in orang:
                        cl.sendText(manusia,(broadcasttxt))
                        print "[Command] BC Contact"
#----------------------------------------------------------------------------
#----------------------------- BROADCAST Group ------------------------------
            elif "/bcgc " in msg.text:
                if msg.from_ in admin:
                    broadcasttxt = msg.text.replace("/bcgc ", "")
                    orang = cl.getGroupIdsJoined()
                    for manusia in orang:
                        cl.sendText(manusia,(broadcasttxt))
                        print "[Command] BC Grup"
#----------------------------------------------------------------------------
#-------------------------------- WELCOME -----------------------------------
            if msg.text.lower() in ["wc","welcome"]:
                ginfo = cl.getGroup(msg.to)
                cl.sendText(msg.to,"Selamat Datang Di " + str(ginfo.name))
#----------------------------------------------------------------------------
#------------------------------- KICK BY TAG --------------------------------
            elif "KI " in msg.text:
              if msg.from_ in admin:
                key = eval(msg.contentMetadata["MENTION"])
                key["MENTIONEES"][0]["M"]
                targets = []
                for x in key["MENTIONEES"]:
                    targets.append(x["M"])
                for target in targets:
                   try:
                      ki.kickoutFromGroup(msg.to,[target])
                      print "[Command] Kick"
                   except:
                      pass
#----------------------------------------------------------------------------
#------------------------------ BAN BY TAG ----------------------------------
            elif "Bl " in msg.text:
                if msg.from_ in admin:
                    key = eval(msg.contentMetadata["MENTION"])
                    key["MENTIONEES"][0]["M"]
                    targets = []
                    for x in key["MENTIONEES"]:
                        targets.append(x["M"])
                    for target in targets:
                        try:
                            wait["blacklist"][target] = True
                            f=codecs.open('st2__b.json','w','utf-8')
                            json.dump(wait["blacklist"], f, sort_keys=True, indent=4,ensure_ascii=False)
                            cl.sendText(msg.to,"Done Banned")
                            print "[Command] Bannad"
                        except:
                            pass
#----------------------------------------------------------------------------
#------------------------------- UNBAN BY TAG -------------------------------
            elif "Wl " in msg.text:
                if msg.from_ in admin:
                    key = eval(msg.contentMetadata["MENTION"])
                    key["MENTIONEES"][0]["M"]
                    targets = []
                    for x in key["MENTIONEES"]:
                        targets.append(x["M"])
                    for target in targets:
                        try:
                            del wait["blacklist"][target]
                            f=codecs.open('st2__b.json','w','utf-8')
                            json.dump(wait["blacklist"], f, sort_keys=True, indent=4,ensure_ascii=False)
                            cl.sendText(msg.to,"Done Unbanned")
                            print "[Command] Unbannad"
                        except:
                            pass
#----------------------------------------------------------------------------
#----------------------------- TAG ALL MEMBER -------------------------------
            if msg.text.lower() in ["phet tag all"]:
                group = cl.getGroup(msg.to)
                nama = [contact.mid for contact in group.members]
                nm1, nm2, nm3, nm4, nm5, jml = [], [], [], [], [], len(nama)
                if jml <= 100:
                    mention(msg.to, nama)
                    if jml > 100 and jml < 200:
                        for i in range(0, 100):
                            nm1 += [nama[i]]
                    mention(msg.to, nm1)
                    for j in range(101, len(nama)):
                        nm2 += [nama[j]]
                    mention(msg.to, nm2)
                if jml > 200 and jml < 300:
                    for i in range(0, 100):
                        nm1 += [nama[i]]
                    mention(msg.to, nm1)
                    for j in range(101, 200):
                        nm2 += [nama[j]]
                    mention(msg.to, nm2)
                    for k in range(201, len(nama)):
                        nm3 += [nama[k]]
                    mention(msg.to, nm3)
                if jml > 300 and jml < 400:
                    for i in range(0, 100):
                        nm1 += [nama[i]]
                    mention(msg.to, nm1)
                    for j in range(101, 200):
                        nm2 += [nama[j]]
                    mention(msg.to, nm2)
                    for k in range(201, 300):
                        nm3 += [nama[k]]
                    mention(msg.to, nm3)
                    for l in range(301, len(nama)):
                        nm4 += [nama[l]]
                    mention(msg.to, nm4)
                if jml > 400 and jml < 500:
                    for i in range(0, 100):
                        nm1 += [nama[i]]
                    mention(msg.to, nm1)
                    for j in range(101, 200):
                        nm2 += [nama[j]]
                    mention(msg.to, nm2)
                    for k in range(201, 300):
                        nm3 += [nama[k]]
                    mention(msg.to, nm3)
                    for l in range(301, 400):
                        nm4 += [nama[l]]
                    mention(msg.to, nm4)
                    for h in range(401, len(nama)):
                        nm5 += [nama[h]]
                    mention(msg.to, nm5)
                if jml > 500:
                    cl.sendText(msg.to,'Member melebihi batas.')
                cnt = Message()
                cnt.text = "SELFBOTPHETBOTáµ€áµƒáµ: " + str(jml) +  " Members"
                cnt.to = msg.to
                cl.sendMessage(cnt)
#----------------------------------------------------------------------------
#------------------------------- CHECK SIDER --------------------------------
            if msg.text.lower() in ["â€¢â€¢"]:
                if msg.toType == 2:
                    cl.sendText(msg.to, "Sini Muncul")
                    try:
                        del wait2['readPoint'][msg.to]
                        del wait2['readMember'][msg.to]
                    except:
                        pass
                    wait2['readPoint'][msg.to] = msg.id
                    wait2['readMember'][msg.to] = ""
                    wait2['setTime'][msg.to] = datetime.datetime.today().strftime('%Y-%m-%d %H:%M:%S')
                    wait2['ROM'][msg.to] = {}
                    print "[Command] Set"

            if msg.text.lower() in ["â€¢â€¢â€¢"]:
                if msg.toType == 2:
                    if msg.to in wait2['readPoint']:
                        if wait2["ROM"][msg.to].items() == []:
                            chiya = ""
                        else:
                            chiya = ""
                            for rom in wait2["ROM"][msg.to].items():
                                print "[Command] Check"
                                chiya += rom[1] + "\n"
                        cl.sendText(msg.to, "ô€œô€„¯ô¿¿ Read : %s\n\nô€œô€„°ô¿¿ Sider :\n%s\nPoint creation date n time:\n[%s]"  % (wait2['readMember'][msg.to],chiya,setTime[msg.to]))
                        try:
                            del wait2['readPoint'][msg.to]
                            del wait2['readMember'][msg.to]
                        except:
                            pass
                        wait2['readPoint'][msg.to] = msg.id
                        wait2['readMember'][msg.to] = ""
                        wait2['setTime'][msg.to] = datetime.datetime.today().strftime('%Y-%m-%d %H:%M:%S')
                        wait2['ROM'][msg.to] = {}
                        print "[Command] Set"
                    else:
                        cl.sendText(msg.to,"Read point tidak tersedia, Silahkan ketik /set untuk membuat Read point.")
#----------------------------------------------------------------------------
#------------------------------- COVER BY TAG -------------------------------
            elif "Hack All" in msg.text:
                if msg.toType == 2:
                    cover = msg.text.replace("Hack All","")
                    _nametarget = cover.rstrip('  ')
                    gs = cl.getGroup(msg.to)
                    targets = []
                    for g in gs.members:
                        if _nametarget == g.displayName:
                            targets.append(g.mid)
                    if targets == []:
                        cl.sendText(msg.to,"Not found")
                    else:
                        for target in targets:
                            try:
                                h = cl.channel.getHome(target)
                                objId = h["result"]["homeInfo"]["objectId"]
                                cl.sendImageWithURL(msg.to,"http://dl.profile.line-cdn.net/myhome/c/download.nhn?userid=" + target + "&oid=" + objId)
                            except Exception as error:
                                print error
                                cl.sendText(msg.to,"Upload image failed.")

            elif "Hack3 @" in msg.text:
                if msg.toType == 2:
                    cover = msg.text.replace("Hack3 @","")
                    _nametarget = cover.rstrip('  ')
                    gs = cl.getGroup(msg.to)
                    targets = []
                    for g in gs.members:
                        if _nametarget == g.displayName:
                            targets.append(g.mid)
                    if targets == []:
                        cl.sendText(msg.to,"Not found")
                    else:
                        for target in targets:
                            try:
                                h = cl.channel.getHome(target)
                                objId = h["result"]["homeInfo"]["objectId"]
                                cl.sendImageWithURL(msg.to,"http://dl.profile.line-cdn.net/myhome/c/download.nhn?userid=" + target + "&oid=" + objId)
                            except Exception as error:
                                print error
                                cl.sendText(msg.to,"Upload image failed.")
#----------------------------------------------------------------------------
#-------------------------------- PP BY TAG ---------------------------------
            elif "Hack2 @" in msg.text:
                if msg.toType == 2:
                    cover = msg.text.replace("Hack2 @","")
                    _nametarget = cover.rstrip('  ')
                    gs = cl.getGroup(msg.to)
                    targets = []
                    for g in gs.members:
                        if _nametarget == g.displayName:
                            targets.append(g.mid)
                    if targets == []:
                        cl.sendText(msg.to,"Not found")
                    else:
                        for target in targets:
                            try:
                                h = cl.getContact(target)
                                cl.sendImageWithURL(msg.to,"http://dl.profile.line-cdn.net/" + h.pictureStatus)
                            except Exception as error:
                                print error
                                cl.sendText(msg.to,"Upload image failed.")

            elif "Bhack @" in msg.text:
                if msg.toType == 2:
                    cover = msg.text.replace("Bhack @","")
                    _nametarget = cover.rstrip('  ')
                    gs = cl.getGroup(msg.to)
                    targets = []
                    for g in gs.members:
                        if _nametarget == g.displayName:
                            targets.append(g.mid)
                    if targets == []:
                        cl.sendText(msg.to,"Not found")
                    else:
                        for target in targets:
                            try:
                                h = cl.getContact(target)
                                ki.sendImageWithURL(msg.to,"http://dl.profile.line-cdn.net/" + h.pictureStatus)
                            except Exception as error:
                                print error
                                ki.sendText(msg.to,"Upload image failed.")
#----------------------------------------------------------------------------
#--------------------------------- HI / HAI ---------------------------------
            elif msg.text.lower() in ["hi","hai","you"]:
                if msg.from_ in admin:
                    beb = "Hi sayang " + cl.getContact(msg.from_).displayName #+ " ô€¸‚ô€†‡starry heartô¿¿"
                    kk.sendText(msg.to,beb)
                else:
                    hi = "Hi " + cl.getContact(msg.from_).displayName
                    cl.sendText(msg.to,hi)
#----------------------------------------------------------------------------
#--------------------------------- DUGEM ------------------------------------
            elif "youname " in msg.text.lower():
                txt = msg.text.replace("youname ", "")
                cl.kedapkedip(msg.to,txt)
                print "[Command] Kedapkedip"
#----------------------------------------------------------------------------
#--------------------------------- Remove Chat ------------------------------
            elif "/removechat" in msg.text.lower():
                if msg.from_ in admin:
                    try:
                        cl.removeAllMessages(op.param2)
                        print "[Command] Remove Chat"
                        cl.sendText(msg.to,"Done")
                    except Exception as error:
                        print error
                        cl.sendText(msg.to,"Error")
#----------------------------------------------------------------------------
#------------------------------- Kerang Ajaib -------------------------------
            elif "/apakah " in msg.text.lower():
                apk = msg.text.replace("/apakah ","")
                rnd = ['Ya','Tidak']
                p = random.choice(rnd)
                cl.sendText(msg.to,p)
                print "[Command] Kerang Ajaib"
#----------------------------------------------------------------------------
#---------------------------------- SONG ------------------------------------
            elif "/lirik " in msg.text.lower():
                songname = msg.text.replace("/lirik ","")
                params = {"songname":songname}
                r = requests.get('https://ide.fdlrcn.com/workspace/yumi-apis/joox?' + urllib.urlencode(params))
                data = r.text
                data = json.loads(data)
                for song in data:
                    cl.sendText(msg.to,song[5])
                    print "[Command] Lirik"

            elif "/lagu " in msg.text.lower():
                songname = msg.text.replace("/lagu ","")
                params = {"songname":songname}
                r = requests.get('https://ide.fdlrcn.com/workspace/yumi-apis/joox?' + urllib.urlencode(params))
                data = r.text
                data = json.loads(data)
                for song in data:
                    cl.sendText(msg.to,"Judul : " + song[0] + "\nDurasi : " + song[1])
                    cl.sendAudioWithURL(msg.to,song[3])
                    print "[Command] Lagu"
#----------------------------------------------------------------------------
#--------------------------------- INSTAGRAM --------------------------------
            elif "/ig " in msg.text.lower():
                arg = msg.text.split(' ');
                nk0 = msg.text.replace("/ig ","")
                nk1 = nk0.rstrip('  ')
                if len(arg) > 1:
                    proc = subprocess.Popen('curl -s https://www.instagram.com/'+nk1+'/?__a=1',shell=True, stdout=subprocess.PIPE)
                    x = proc.communicate()[0]
                    parsed_json = json.loads(x)
                    if(len(x) > 10):
                        username = (parsed_json['user']['username'])
                        fullname = (parsed_json['user']['full_name'])
                        followers = (parsed_json['user']['followed_by']['count'])
                        following = (parsed_json['user']['follows']['count'])
                        media = (parsed_json['user']['media']['count'])
                        bio = (parsed_json['user']['biography'])
                        url = (parsed_json['user']['external_url'])
                        cl.sendText(msg.to,"Profile "+username+"\n\nUsername : "+username+"\nFull Name : "+fullname+"\nFollowers : "+str(followers)+"\nFollowing : "+str(following))
                        print '[Command] Instagram'
                    else:
                        cl.sendText(msg.to,"Not Found...")
                else:
                    cl.sendText(msg.to,"Contoh /ig hairu.ones")
#----------------------------------------------------------------------------
#--------------------------------- YOUTUBE ----------------------------------
            elif "à¸¢à¸¹à¸—à¸¹à¸›:" in msg.text:
                query = msg.text.replace("à¸¢à¸¹à¸—à¸¹à¸›:","")
                with requests.session() as s:
                    s.headers['user-agent'] = 'Mozilla/5.0'
                    url = 'http://www.youtube.com/results'
                    params = {'search_query': query}
                    r = s.get(url, params=params)
                    soup = BeautifulSoup(r.content, 'html5lib')
                    hasil = ""
                    for a in soup.select('.yt-lockup-title > a[title]'):
                        if '&list=' not in a['href']:
                            hasil += ''.join((a['title'],'\nhttp://www.youtube.com' + a['href'],'\n\n'))
                    cl.sendText(msg.to,hasil)
                    print '[Command] Youtube Search'
#----------------------------------------------------------------------------
#--------------------------------- TRANSLATE --------------------------------
            elif "/translate-en " in msg.text:
                txt = msg.text.replace("/translate-en ","")
                try:
                    gs = goslate.Goslate()
                    trs = gs.translate(txt,'en')
                    cl.sendText(msg.to,trs)
                    print '[Command] Translate EN'
                except:
                    cl.sendText(msg.to,'Error.')

            elif "/translate-id " in msg.text:
                txt = msg.text.replace("/translate-en ","")
                try:
                    gs = goslate.Goslate()
                    trs = gs.translate(txt,'id')
                    cl.sendText(msg.to,trs)
                    print '[Command] Translate ID'
                except:
                    cl.sendText(msg.to,'Error.')
#----------------------------------------------------------------------------
#--------------------------------- ABSEN ------------------------------------
            elif msg.text.lower() in ["à¸‡à¸‡"]:
                cl.sendText(msg.to,"Hadir Bosku ????Salute??")
                ki.sendText(msg.to,"Hadir  ????Salute??")
                kk.sendText(msg.to,"Selalu Hadir ????Salute??")
                kc.sendText(msg.to,"Come Back ????Salute??")
#----------------------------------------------------------------------------
#------------------------------ RESPON SPEED --------------------------------
            elif msg.text.lower() in ["bot1 speed"]:
                kk.sendText(msg.to, "Progress...")
                start = time.time()
                elapsed_time = time.time() - start
                kk.sendText(msg.to, "%sseconds" % (elapsed_time))

            elif msg.text.lower() in ["sp"]:
                cl.sendText(msg.to, "Progress...")
                start = time.time()
                time.sleep(0.001)
                elapsed_time = time.time() - start
                cl.sendText(msg.to, "%sseconds" % (elapsed_time))

            elif msg.text.lower() in ["vxcvp"]:
                cl.sendText(msg.to, "Progress...")
                start = time.time()
                time.sleep(0.000)
                elapsed_time = time.time() - start
                cl.sendText(msg.to, "%sseconds" % (elapsed_time))
            elif msg.text.lower() in ["vpgjggrs"]:
                cl.sendText(msg.to, "Progress...")
                start = time.time()
                time.sleep(0.0000)
                elapsed_time = time.time() - start
                cl.sendText(msg.to, "%sseconds" % (elapsed_time))

#----------------------------------------------------------------------------
#---------------------------- CEK BAN LIST ----------------------------------
            elif msg.text.lower() in ["mcheck"]:
                if wait["blacklist"] == {}:
                    cl.sendText(msg.to,"nothing")
                else:
                    cl.sendText(msg.to,"Blacklist user")
                    mc = ""
                    for mi_d in wait["blacklist"]:
                        mc += "[*] " +cl.getContact(mi_d).displayName + "\n"
                    cl.sendText(msg.to,mc)
#----------------------------------------------------------------------------
#------------------------- CEK BAN LIST ( MID ) -----------------------------
            elif msg.text.lower() in ["mcheck mid"]:
                if msg.toType == 2:
                    group = cl.getGroup(msg.to)
                    gMembMids = [contact.mid for contact in group.members]
                    matched_list = []
                    for tag in wait["blacklist"]:
                        matched_list+=filter(lambda str: str == tag, gMembMids)
                    cocoa = ""
                    for mm in matched_list:
                        cocoa += mm + "\n"
                    cl.sendText(msg.to,cocoa + "")
#----------------------------------------------------------------------------
#-------------------------------- KILL BAN ----------------------------------
            elif msg.text.lower() in ["#kill"]:
                if msg.toType == 2:
                    group = cl.getGroup(msg.to)
                    gMembMids = [contact.mid for contact in group.members]
                    matched_list = []
                    for tag in wait["blacklist"]:
                        matched_list+=filter(lambda str: str == tag, gMembMids)
                    if matched_list == []:
                        cl.sendText(msg.to,"There was no blacklist user")
                        return
                    for jj in matched_list:
                        ki.kickoutFromGroup(msg.to,[jj])
                        pass
#----------------------------------------------------------------------------
        if op.type == 59:
            print op


    except Exception as error:
        pass


def a2():
    now2 = datetime.now()
    nowT = datetime.strftime(now2,"%M")
    if nowT[14:] in ["10","20","30","40","50","00"]:
        return False
    else:
        return True

def nameUpdate():
    while True:
        try:
        #while a2():
            #pass
            if wait["clock"] == True:
                now2 = datetime.now()
                nowT = datetime.strftime(now2,"(%H:%M)")
                profile = cl.getProfile()
                profile.displayName = wait["cName"] + nowT
                cl.updateProfile(profile)
            time.sleep(600)
        except:
            pass
thread2 = threading.Thread(target=nameUpdate)
thread2.daemon = True
thread2.start()

while True:
    try:
        Ops = cl.fetchOps(cl.Poll.rev, 5)
    except EOFError:
        raise Exception("It might be wrong revision\n" + str(cl.Poll.rev))

    for Op in Ops:
        if (Op.type != OpType.END_OF_OPERATION):
            cl.Poll.rev = max(cl.Poll.rev, Op.revision)
            bot(Op)
